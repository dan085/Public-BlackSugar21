<div class="app-container">
  <router-outlet></router-outlet>

  <!-- Age Gate Overlay -->
  <div class="age-gate" *ngIf="!ageVerified() && !isLegalRoute()">
    <div class="age-gate-content glass-panel">
      <div class="logo-large">
        <img src="logo-21.png" alt="Black Sugar 21" width="140" height="140" />
      </div>
      <h2>{{ t('age.title') }}</h2>
      <p class="warning-text">{{ t('age.exclusive') }}</p>
      <p class="subtext">{{ t('age.restricted') }}</p>

      <button class="btn-primary" (click)="verifyAge()">{{ t('age.button') }}</button>
      <p class="subtext-xs">{{ t('age.terms') }}</p>

      <!-- Language Switcher -->
      <button class="language-switcher" (click)="toggleLanguage()">
        <span class="flag">{{ getCurrentLanguage() === 'es' ? 'ðŸ‡ªðŸ‡¸' : 'ðŸ‡ºðŸ‡¸' }}</span>
        {{ getCurrentLanguage() === 'es' ? 'English' : 'EspaÃ±ol' }}
      </button>
    </div>
  </div>

  <!-- Main Content -->
  <main class="main-content" *ngIf="ageVerified()">

    <header class="bumble-toolbar">
      <div class="toolbar-content">
        <div class="toolbar-logo">
          <img src="logo-21.png" alt="Black Sugar 21" width="35" height="35" />
          <span class="toolbar-brand">Black Sugar <span>21</span></span>
        </div>
        <nav class="toolbar-nav">
          <a href="#date" class="nav-item">{{ t('nav.date') }}</a>
          <a href="#friends" class="nav-item">{{ t('nav.friends') }}</a>
          <a href="#historias" class="nav-item">{{ t('nav.stories') }}</a>
          <a href="#eventos" class="nav-item">{{ t('nav.events') }}</a>
          <a href="#seguridad" class="nav-item">{{ t('nav.security') }}</a>
          <a routerLink="/moderation-policy" class="nav-item">{{ t('footer.moderation') }}</a>
          <a href="#ayuda" class="nav-item">{{ t('nav.help') }}</a>
        </nav>
        <!-- Language Switcher -->
        <button class="language-switcher-toolbar" (click)="toggleLanguage()" title="{{ getCurrentLanguage() === 'es' ? 'Switch to English' : 'Cambiar a EspaÃ±ol' }}">
          <span class="flag">{{ getCurrentLanguage() === 'es' ? 'ðŸ‡ªðŸ‡¸' : 'ðŸ‡ºðŸ‡¸' }}</span>
          <span class="lang-text">{{ getCurrentLanguage().toUpperCase() }}</span>
        </button>
        <!-- Mobile Menu Icon (Visual only for now) -->
        <div class="mobile-menu-btn">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </header>

    <section id="inicio" class="hero-section">
      <div class="hero-content">
        <div class="logo-container animate-in delay-1">
          <img src="logo-21.png" alt="Black Sugar 21" width="200" height="200" />
        </div>

        <h1 class="animate-in delay-2">{{ t('hero.title') }}</h1>
        <p class="tagline animate-in delay-3">{{ t('hero.tagline') }}</p>
        <p class="sub-tagline animate-in delay-3">{{ t('hero.subtitle') }}</p>

        <div class="download-buttons animate-in delay-4">
          <a href="#" class="store-badge app-store">
            <img src="app-store-badge.webp" alt="DescÃ¡rgalo en el App Store">
          </a>
          <a href="#" class="store-badge google-play">
            <img src="google-play-badge.webp" alt="Disponible en Google Play">
          </a>
        </div>
      </div>
    </section>

    <section id="terminos" class="info-section">
      <div class="container">
        <h2>{{ t('terms.title') }}</h2>
        <div class="text-block glass-panel">
          <p>{{ t('terms.welcome') }}</p>
          <ul>
            <li>{{ t('terms.age') }}</li>
            <li>{{ t('terms.content') }}</li>
            <li>{{ t('terms.redistribution') }}</li>
            <li>{{ t('terms.violation') }}</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="privacidad" class="info-section">
      <div class="container">
        <h2>{{ t('privacy.title') }}</h2>
        <div class="text-block glass-panel">
          <p>{{ t('privacy.intro') }}</p>
          <h3>{{ t('privacy.collection') }}</h3>
          <p>{{ t('privacy.collectionText') }}</p>
          <h3>{{ t('privacy.usage') }}</h3>
          <p>{{ t('privacy.usageText') }}</p>
          <h3>{{ t('privacy.security') }}</h3>
          <p>{{ t('privacy.securityText') }}</p>
        </div>
      </div>
    </section>

    <footer class="elegant-footer">
      <div class="footer-content">
        <div class="footer-logo">
          <img src="logo-21.png" alt="Black Sugar 21" width="50" height="50" />
          <span class="footer-brand">BLACK SUGAR <span>21</span></span>
        </div>
        <div class="footer-text">
          <p class="footer-tagline">{{ t('footer.tagline') }}</p>
        </div>
        <div class="footer-links">
          <a href="#inicio">{{ t('footer.home') }}</a>
          <a routerLink="/terms">{{ t('footer.terms') }}</a>
          <a routerLink="/privacy">{{ t('footer.privacy') }}</a>
          <a routerLink="/moderation-policy">{{ t('footer.moderation') }}</a>
          <a href="#">{{ t('footer.support') }}</a>
          <a href="#">{{ t('footer.contact') }}</a>
        </div>
        <div class="footer-copyright">
          <p>{{ t('footer.copyright') }}</p>
        </div>
      </div>
    </footer>

  </main>
</div>
